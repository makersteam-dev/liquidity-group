"use strict";(()=>{document.addEventListener("DOMContentLoaded",()=>{let r=window.location.search,u=new URLSearchParams(r).get("utm_source"),s=document.querySelector("#api_access");u==="key"&&(s.value="true")});var i=document.querySelector('input[name="email"]'),o=document.querySelector('input[name="company"]'),a=document.querySelector('input[name="country"]'),L="^[a-zA-Z0-9._%+-]+@(?!gmail.com|yahoo.com|hotmail.com)[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$",C=()=>{i.value.toLowerCase().match(L)?i.classList.remove("is--error"):i.classList.add("is--error")},S=()=>{o.value===""?o.classList.add("is--error"):o.classList.remove("is--error")},w=()=>{a.value===""?a.classList.add("is--error"):a.classList.remove("is--error")};i.addEventListener("focusout",C);o.addEventListener("focusout",S);a.addEventListener("focusout",w);$('form[action^="https://api.hsforms.com"]').each(function(r){$(this).find("input[type=checkbox]").val("true"),$(this).submit(function(t){var d,m;t.preventDefault();let s=[...new FormData(t.target).entries()].map(e=>({name:e[0],value:e[1]})),f=(d=s.find(e=>e.name==="goToWebinarWebinarKey"))==null?void 0:d.value,p=(m=s.find(e=>e.name==="sfdcCampaignId"))==null?void 0:m.value,g=document.cookie.replace(/(?:(?:^|.*;\s*)hubspotutk\s*\=\s*([^;]*).*$)|^.*$/,"$1")||void 0,c=$(this).find("[id*='gdpr-processing-prompt']"),l=s.filter(e=>e.name.includes("LEGAL_CONSENT")).map(e=>{let n=$(`#${e.name.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}`)[0],b=$("span[for='"+$(n).attr("id").replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")+"']");return{value:n.checked,text:b.text(),subscriptionTypeId:parseInt(e.name.split("LEGAL_CONSENT.subscription_type_")[1])}}),h=["cc-num","cc-number","gdpr","LEGAL_CONSENT","goToWebinarWebinarKey","sfdcCampaignId"],y={fields:s.filter(e=>!h.find(n=>e.name.includes(n))),context:{pageUri:window.location.href,pageName:document.title,sfdcCampaignId:p,goToWebinarKey:f,hutk:g},...c?{legalConsentOptions:{consent:{...c?{consentToProcess:!0,text:c.text()}:{},...l?{communications:l}:{}}}}:{}},v=JSON.stringify(y);$.ajax({url:t.target.action,method:"POST",data:v,contentType:"application/json",success:function(e){if(e)if(e.inlineMessage){let n=$(t.target).parent();n.children("form").css("display","none"),n.children(".w-form-done").css("display","block")}else e.redirectUri&&(window.location.href=e.redirectUri)},error:function(){$(t.target).css("display","none").siblings(".w-form-fail").css("display","block")}})})});$(".crisis-funding-label.is--in-focus").removeClass("is--in-focus");$(".mt-input").on("focusin",function(){$(this).siblings(".crisis-funding-label").addClass("is--in-focus")});$(".mt-input").on("focusout",function(){$(this).val()===""&&$(this).siblings(".crisis-funding-label").removeClass("is--in-focus"),$(this).val()!==""&&$(this).siblings(".crisis-funding-label").addClass("is--in-focus")});})();
