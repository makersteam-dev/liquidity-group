{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/index.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\r\n", "/*First Embed */\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const queryString = window.location.search;\r\n  const urlParams = new URLSearchParams(queryString);\r\n  const utmSource = urlParams.get('utm_source');\r\n  const utmSourceInput = document.querySelector('#api_access');\r\n\r\n  if (utmSource === 'key') {\r\n    utmSourceInput.value = 'true';\r\n  }\r\n});\r\n\r\n/*Second Embed */\r\nconst emailInput = document.querySelector('input[name=\"email\"]');\r\nconst companyInput = document.querySelector('input[name=\"company\"]');\r\nconst countryInput = document.querySelector('input[name=\"country\"]');\r\n// const annualRevenueInput = document.querySelector('input[name=\"annual_revenue\"]');\r\n// const outstandingloanAmountInput = document.querySelector('input[name=\"outstanding_loan_amount\"]');\r\n// const cashRunwayInput = document.querySelector('input[name=\"cash_runway\"]');\r\n// const successInner = document.querySelector('.success-inner');\r\n\r\n// const emailLabel = document.querySelector('#label-email');\r\n// const companyLabel = document.querySelector('#label-company');\r\n// const countryLabel = document.querySelector('#label-country');\r\n// const annualRevenueLabel = document.querySelector('#label-annual_revenue');\r\n// const outstandingloanAmountLabel = document.querySelector('#label-outstanding_loan_amount');\r\n// const cashRunwayLabel = document.querySelector('#label-cash_runway');\r\n\r\nconst emailInputWrapper = document.querySelector('.crisis-funding-field-wrapper.is--1');\r\nconst companyInputWrapper = document.querySelector('.crisis-funding-field-wrapper.is--2');\r\nconst countryInputWrapper = document.querySelector('.crisis-funding-field-wrapper.is--3');\r\n\r\n// const annualRevenueWrapper = document.querySelector('.crisis-funding-field-wrapper.is--4');\r\n// const outstandingLoanAmountWrapper = document.querySelector('.crisis-funding-field-wrapper.is--5');\r\n// const cashRunwayWrapper = document.querySelector('.crisis-funding-field-wrapper.is--6');\r\n\r\nconst re = `^[a-zA-Z0-9._%+-]+@(?!gmail\\.com|yahoo\\.com|hotmail\\.com)[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$`;\r\n\r\nconst validateEmail = () => {\r\n  // || emailInput.value.toLowerCase().includes('gmail')\r\n  if (!emailInput.value.toLowerCase().match(re)) {\r\n    emailInput.classList.add('is--error');\r\n  } else {\r\n    emailInput.classList.remove('is--error');\r\n  }\r\n};\r\n\r\nconst validatecompany = () => {\r\n  if (companyInput.value === '') {\r\n    companyInput.classList.add('is--error');\r\n  } else {\r\n    companyInput.classList.remove('is--error');\r\n  }\r\n};\r\n\r\nconst validatecountry = () => {\r\n  if (countryInput.value === '') {\r\n    countryInput.classList.add('is--error');\r\n  } else {\r\n    countryInput.classList.remove('is--error');\r\n  }\r\n};\r\n\r\n// const validateAnnualRevenueInput = () => {\r\n//   if (annualRevenueInput.value === '') {\r\n//     annualRevenueInput.classList.add('is--error');\r\n//   } else {\r\n//     annualRevenueInput.classList.remove('is--error');\r\n//   }\r\n// };\r\n\r\n// const validateOutstandingloanAmountInput = () => {\r\n//   if (outstandingloanAmountInput.value === '') {\r\n//     outstandingloanAmountInput.classList.add('is--error');\r\n//   } else {\r\n//     outstandingloanAmountInput.classList.remove('is--error');\r\n//   }\r\n// };\r\n\r\n// const validateCashRunwayInput = () => {\r\n//   if (cashRunwayInput.value === '') {\r\n//     cashRunwayInput.classList.add('is--error');\r\n//   } else {\r\n//     cashRunwayInput.classList.remove('is--error');\r\n//   }\r\n// };\r\n\r\nemailInput.addEventListener('focusout', validateEmail);\r\ncompanyInput.addEventListener('focusout', validatecompany);\r\ncountryInput.addEventListener('focusout', validatecountry);\r\n// annualRevenueInput.addEventListener('focusout', validateAnnualRevenueInput);\r\n// outstandingloanAmountInput.addEventListener('focusout', validateOutstandingloanAmountInput);\r\n// cashRunwayInput.addEventListener('focusout', validateCashRunwayInput);\r\n\r\n/*Third Embed */\r\n$('form[action^=\"https://api.hsforms.com\"]').each(function (i) {\r\n  // intercept forms whos action goes to hubspot\r\n  $(this).find('input[type=checkbox]').val('true');\r\n  $(this).submit(function (e) {\r\n    // when the form submits\r\n    e.preventDefault(); //stop the form from submitting to webflow\r\n    const formData = new FormData(e.target); // get the form data\r\n    const parsedFormData = [...formData.entries()].map((dataObject) => ({\r\n      // convert data to array\r\n      name: dataObject[0], // make sure the name of the input is the same as the hubspot input name\r\n      value: dataObject[1], // the value of the input\r\n    }));\r\n    const goToWebinarWebinarKey = parsedFormData.find(\r\n      (input) => input.name === 'goToWebinarWebinarKey'\r\n    )?.value; // looks for an input with the name goToWebinarWebinarKey\r\n    const sfdcCampaignId = parsedFormData.find((input) => input.name === 'sfdcCampaignId')?.value; // looks for an input with the name sfdcCampaignId\r\n    const hutk =\r\n      document.cookie.replace(/(?:(?:^|.*;\\s*)hubspotutk\\s*\\=\\s*([^;]*).*$)|^.*$/, '$1') ||\r\n      undefined; // looks for an input with the name hutk, the hubspot user token\r\n    console.log(hutk);\r\n    const processingPrompt = $(this).find(\"[id*='gdpr-processing-prompt']\"); // looks for an element with the id gdpr-processing-prompt\r\n    const communicationConsent = parsedFormData\r\n      .filter((item) => item.name.includes('LEGAL_CONSENT'))\r\n      .map((item) => {\r\n        // finds LEGAL_CONSENT options and stores them\r\n        const element = $(`#${item.name.replace(/(:|\\.|\\[|\\]|,|=|@)/g, '\\\\$1')}`)[0]; // checks if they've checked the checkbox to consent\r\n        const label = $(\r\n          \"span[for='\" +\r\n            $(element)\r\n              .attr('id')\r\n              .replace(/(:|\\.|\\[|\\]|,|=|@)/g, '\\\\$1') +\r\n            \"']\"\r\n        ); // gets the label of the checkbox\r\n        return {\r\n          value: element.checked,\r\n          text: label.text(),\r\n          subscriptionTypeId: parseInt(item.name.split('LEGAL_CONSENT.subscription_type_')[1]), // the subscription the user is consenting to\r\n        };\r\n      });\r\n    const ignoredFields = [\r\n      'cc-num',\r\n      'cc-number',\r\n      'gdpr',\r\n      'LEGAL_CONSENT',\r\n      'goToWebinarWebinarKey',\r\n      'sfdcCampaignId',\r\n    ];\r\n    const data = {\r\n      // the data we send to hubspot\r\n      fields: parsedFormData.filter(\r\n        (item) => !ignoredFields.find((ignoredField) => item.name.includes(ignoredField))\r\n      ), // set the form data but ignore certain fields\r\n      context: {\r\n        pageUri: window.location.href, // log the current url\r\n        pageName: document.title, // log the pages title\r\n        sfdcCampaignId: sfdcCampaignId, // salesforce campaign id\r\n        goToWebinarKey: goToWebinarWebinarKey, // go to meeting key\r\n        hutk: hutk, // hubspot user token\r\n      },\r\n      ...(!processingPrompt\r\n        ? {}\r\n        : {\r\n            legalConsentOptions: {\r\n              consent: {\r\n                ...(!processingPrompt\r\n                  ? {}\r\n                  : {\r\n                      consentToProcess: true,\r\n                      text: processingPrompt.text(),\r\n                    }),\r\n                ...(!communicationConsent\r\n                  ? {}\r\n                  : {\r\n                      communications: communicationConsent,\r\n                    }),\r\n              },\r\n            },\r\n          }),\r\n    };\r\n    const final_data = JSON.stringify(data); // turn that javascript object into a json string\r\n    $.ajax({\r\n      url: e.target.action,\r\n      method: 'POST',\r\n      data: final_data,\r\n      contentType: 'application/json',\r\n      success: function (response) {\r\n        if (response) {\r\n          if (response.inlineMessage) {\r\n            const parent = $(e.target).parent();\r\n            parent.children('form').css('display', 'none'); // hide form\r\n            parent.children('.w-form-done').css('display', 'block'); // replace .w-form-done with your own form done section\r\n          } else if (response.redirectUri) {\r\n            window.location.href = response.redirectUri;\r\n          }\r\n        } else {\r\n          console.log('response but no inlineMessage or redirectUri');\r\n        }\r\n      },\r\n      error: function () {\r\n        console.log('error on the form submitting');\r\n        $(e.target).css('display', 'none').siblings('.w-form-fail').css('display', 'block'); // replace .w-form-fail with your own form done section\r\n      },\r\n    });\r\n  });\r\n});\r\n\r\n/*Fourth Embed */\r\n$('.crisis-funding-label.is--in-focus').removeClass('is--in-focus');\r\n//when form input is in focus state\r\n$('.mt-input').on('focusin', function () {\r\n  $(this).siblings('.crisis-funding-label').addClass('is--in-focus');\r\n});\r\n$('.mt-input').on('focusout', function () {\r\n  //\twhen form input is out of focus state without value\r\n  if ($(this).val() === '') {\r\n    $(this).siblings('.crisis-funding-label').removeClass('is--in-focus');\r\n  }\r\n  //when form input is out of focus state with value\r\n  if ($(this).val() !== '') {\r\n    $(this).siblings('.crisis-funding-label').addClass('is--in-focus');\r\n  }\r\n});\r\n"],
  "mappings": "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",
  "names": []
}
